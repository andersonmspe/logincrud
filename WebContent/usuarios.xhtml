<!DOCTYPE html>
<html
xmlns="http://www.w3.org/1999/xhtml"
		xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
		xmlns:p="http://primefaces.org/ui"
			
		lang="pt-br"
>
<h:head>
<meta charset="UTF-8" />
<title>Cadastro de Clientes</title>
</h:head>
<body>

<h2>Clientes</h2>

<h:form>
<p:dataTable value="#{usuariosBean.usuarios}" var="u">

<p:column>
<f:facet name="header">Nome</f:facet>
#{u.nome}
</p:column>

<p:column>
<f:facet name="header">Email</f:facet>
#{u.email}
</p:column>

<p:column>
<f:facet name="header">Senha</f:facet>
#{u.senha}
</p:column>

<p:column>
	<f:facet name="header">Telefone</f:facet>
	#{u.telefone.completo()}
</p:column> 

<p:column>
<f:facet name="header">Ações</f:facet>
<p:commandButton action="#{usuariosBean.editar(u)}" value="Alterar" ajax="false"></p:commandButton>
<p:commandButton action="#{usuariosBean.excluir(u.id)}" value="Excluir" ajax="false"></p:commandButton>
</p:column>

</p:dataTable>

<br/><br/>

<h2>Cadastrar Cliente</h2>

<p:panelGrid columns="2">
<label>Nome</label>
<p:inputText value="#{usuariosBean.usuario.nome}"></p:inputText><br/>

<label>Email</label>
<p:inputText value="#{usuariosBean.usuario.email}"></p:inputText><br/>

<label>Senha</label>
<p:inputText value="#{usuariosBean.usuario.senha}" /><br/>

<label>Telefone</label>
<p:panelGrid columns="3">

<p:inputText placeholder="DDD" value="#{usuariosBean.usuario.telefone.ddd}" size="1" maxlength="2"/>
<p:inputText placeholder="Número" value="#{usuariosBean.usuario.telefone.numero}" size="9" maxlength="9"/>
<p:inputText placeholder="Tipo" value="#{usuariosBean.usuario.telefone.tipo}" size="15" maxlength="15"/>


</p:panelGrid>
</p:panelGrid>

<br/>

<p:commandButton action="#{usuariosBean.gravar}" value="Gravar" ajax="false"></p:commandButton>

<br/><br/><br/>

<p:commandLink value="Voltar" action="index"></p:commandLink>
</h:form>

</body>
</html>